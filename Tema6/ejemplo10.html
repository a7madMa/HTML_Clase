<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo 10</title>
</head>

<body>
    <h1>Añadir un div al DOM</h1>

    <button id="botonMostrar">Mostrar div extra</button>

    <script>
        "use strict"

        // Variable semáforo para saber si hay que añadir o eliminar el div.
        let pulsarAnyadir = true;

        let boton = document.getElementById("botonMostrar");

        boton.addEventListener('click', modificar);

        function modificar() {
            if (pulsarAnyadir) {
                anyadir();
            } else {
                eliminar();
            }
        }

        function anyadir() {

            console.log("anyadir()");

            // Creamos un nuevo div.
            let nuevoDiv = document.createElement("div");
            nuevoDiv.id = "nuevoDiv";

            // Lo configuramos.
            nuevoDiv.style.width = "100px";
            nuevoDiv.style.height = "60px";
            nuevoDiv.style.backgroundColor = "yellow";

            // Lo añadimos al DOM al final.
            document.body.appendChild(nuevoDiv);

            // Creamos un nuevo párrafo
            let nuevoParrafo = document.createElement("p");

            // Lo configuramos.
            nuevoParrafo.innerText = "Esto es un nuevo texto.";

            // Lo añadimos al div anterior.
            nuevoDiv.appendChild(nuevoParrafo);

            // Cambiamos el texto del botón.
            boton.innerText = "Ocultar div extra";
            pulsarAnyadir = false;

        }

        function eliminar() {

            console.log("anyadir()");

            // Accedemos al nuevo div y lo eliminamos.
            document.getElementById("nuevoDiv").remove();

            // Cambiamos el texto del botón y la variable anyadir.
            boton.innerText = "Mostrar div extra";
            pulsarAnyadir = true;
        }

    </script>
</body>

</html>